{"version":3,"file":"js/cartList.f36ca42e.js","mappings":"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","sources":["webpack://jingdong/./src/components/Foot.vue","webpack://jingdong/./src/components/Foot.vue?cdcc","webpack://jingdong/./src/views/cartList/CartList.vue","webpack://jingdong/./src/views/cartList/CartList.vue?ff89"],"sourcesContent":["<template>\r\n  <div class=\"footer\">\r\n    <!-- span标签是行内元素，一行显示多个，不可以设置宽高，宽高由内容默认撑开 -->\r\n    <!-- margin的位置书写顺序：上右下左（顺时针） -->\r\n    <!-- 浏览器默认能显示的最小字号为12px，所以如果需要字号为10px的文字，不能直接设置字体大小为10，可以通过缩放（transform:scale()）的方法来实现具体大小！！ -->\r\n    <!-- 实现active 控制某个元素有某个属性-->\r\n    <router-link :to=\"item.to\" v-for=\"(item, index) in items\" :key=\"index\" :class=\"{ footer__item: true, 'footer__item--active': item.to['name'] === route.name }\">\r\n      <!-- v-html用html的方式去显示某个变量，不让某个浏览器对一些特殊的字符转义 -->\r\n      <div v-html=\"item.iconfont\" class=\"iconfont\"></div>\r\n      <div class=\"footer__title\">{{ item.title }}</div>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  name: 'Foot',\r\n  setup() {\r\n    const items = [\r\n      { iconfont: '&#xe6b8;', title: '首页', to: { name: 'Home' } },\r\n      { iconfont: '&#xe789;', title: '购物车', to: { name: 'CartList' } },\r\n      { iconfont: '&#xe64b;', title: '订单', to: { name: 'OrderList' } },\r\n      { iconfont: '&#xe7bd;', title: '我的', to: { name: 'Personal' } }\r\n    ]\r\n    const route = useRoute()\r\n    return { items, route }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/virable.scss';\r\n@import '../style/mixins.scss';\r\n.footer {\r\n  display: flex;\r\n  position: absolute;\r\n  bottom: 0;\r\n  height: 0.49rem;\r\n  width: 100%;\r\n  // background-color: pink;\r\n  border-top: solid 0.01rem #f1f1f1;\r\n  box-sizing: border-box;\r\n  background-color: #fff;\r\n  &__item {\r\n    flex: 1;\r\n    text-align: center;\r\n    .iconfont {\r\n      font-size: 0.2rem;\r\n      margin: 0.07rem 0 0.02rem 0;\r\n    }\r\n    &--active {\r\n      color: #1fa4fc;\r\n    }\r\n  }\r\n  &__title {\r\n    font-size: 0.2rem;\r\n    transform: scale(0.5, 0.5);\r\n    transform-origin: center top;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Foot.vue?vue&type=template&id=e6480ec0&scoped=true\"\nimport script from \"./Foot.vue?vue&type=script&lang=js\"\nexport * from \"./Foot.vue?vue&type=script&lang=js\"\n\nimport \"./Foot.vue?vue&type=style&index=0&id=e6480ec0&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e6480ec0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container\">\r\n    <div class=\"header\">我的全部购物车</div>\r\n    <div class=\"box\">\r\n      <!-- 局部滚动实现方法，给content加一个高度限制，和一个overflow-y：scroll\r\n          然后元素超出这个高度，就会自动实现在这个content区域的滚动！ -->\r\n      <template v-for=\"(item, index) in cartList\" :key=\"index\">\r\n        <li class=\"content\" v-if=\"JSON.stringify(item) !== '{}'\">\r\n          <h3 class=\"shopname\">{{ index }}</h3>\r\n          <ul>\r\n            <li v-for=\"(product, i) in item\" :key=\"product._id\" v-show=\"foldControl[index].showNum.includes(i)\">\r\n              <img :src=\"product.imgUrl\" alt=\"\" />\r\n              <div class=\"info\">\r\n                <h3>{{ product.name ? product.name : '' }}</h3>\r\n                <div class=\"price\">\r\n                  <div class=\"price__now\">{{ product.price }} x {{ product.count }}</div>\r\n                </div>\r\n              </div>\r\n              <!-- 一开始没有的话，赋0！！ -->\r\n              <div class=\"allprice\">{{ (product.count * product.price).toFixed(2) }}</div>\r\n            </li>\r\n            <div class=\"fold\" @click=\"() => productHiddenChange(index)\" v-if=\"Object.keys(item).length > 2 ? true : false\">共计{{ Object.keys(item).length }}件/1.4kg <span class=\"iconfont\" v-html=\"foldControl[index].foldIcon ? '&#xe665;' : '&#xe686;'\"></span></div>\r\n          </ul>\r\n        </li>\r\n      </template>\r\n    </div>\r\n  </div>\r\n  <Foot />\r\n</template>\r\n<script>\r\nimport Foot from '../../components/Foot.vue'\r\nimport { useStore } from 'vuex'\r\nimport { reactive } from 'vue'\r\n\r\nconst hiddenProductsEffect = cartList => {\r\n  // 由于一开始的cartList的数据结构设计的不好，所以现在只能通过分析返回一个新的数据\r\n  // showProducts--通过click控制显示的商品个数\r\n  // foldIcon--通过click控制icon的显示\r\n  // 设置默认值\r\n  const foldControl = reactive({})\r\n  for (const item in cartList) {\r\n    // 默认值\r\n    const productList = cartList[item]\r\n    const productKeys = Object.keys(productList)\r\n    foldControl[item] = { foldIcon: true, showNum: productKeys.length > 2 ? productKeys.slice(0, 2) : productKeys, allNum: productKeys }\r\n  }\r\n  const productHiddenChange = shopName => {\r\n    // 点击判断，如果目前是折叠的，就让foldIcon的值变为false同时，改变showProducts，如果不是则相反\r\n    foldControl[shopName].foldIcon = !foldControl[shopName].foldIcon\r\n    foldControl[shopName].showNum = foldControl[shopName].foldIcon ? foldControl[shopName].allNum.slice(0, 2) : foldControl[shopName].allNum\r\n    // foldIcon.value ? (showProducts.value = productKeys) : (showProducts.value = productKeys.slice(0, 2))\r\n    // foldIcon.value = !foldIcon.value\r\n  }\r\n  // 点击折叠按钮之后，折叠按钮变成折叠功能并且显示所有的商品----改变icon图标而已\r\n  // 再次点击折叠按钮，将商品折叠为2个\r\n  return { foldControl, productHiddenChange }\r\n}\r\nexport default {\r\n  name: 'CartList',\r\n  components: { Foot },\r\n  setup() {\r\n    const store = useStore()\r\n    const { cartList } = store.state\r\n    const { foldControl, productHiddenChange } = hiddenProductsEffect(cartList)\r\n    return { cartList, foldControl, productHiddenChange }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/mixins.scss';\r\n@import '../../style/virable.scss';\r\n.container {\r\n  background-color: #f9f9f9;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  .header {\r\n    padding-top: 0.2rem;\r\n    width: 3.75rem;\r\n    height: 0.64rem;\r\n    line-height: 0.44rem;\r\n    background: #fff;\r\n    font-size: 0.16rem;\r\n    color: #333333;\r\n    text-align: center;\r\n  }\r\n  .box {\r\n    height: 5.2rem;\r\n    overflow-y: scroll;\r\n    margin: 0.16rem;\r\n    background-color: #fff;\r\n  }\r\n  // .prompt {\r\n  //   // z-index只能在position属性值为relative或absolute或fixed的元素上有效。\r\n  //   // display: float;\r\n  //   position: absolute;\r\n  //   left: 50%;\r\n  //   top: 20%;\r\n  //   z-index: -1;\r\n  // }\r\n  .content {\r\n    // margin-bottom: 0.16rem;\r\n    // height: 4rem;\r\n    overflow-y: scroll;\r\n    .shopname {\r\n      padding: 0.2rem 0 0 0.16rem;\r\n      background-color: #fff;\r\n    }\r\n    ul {\r\n      padding: 0 0.16rem;\r\n      // z-index: 100;\r\n      background-color: #fff;\r\n      li {\r\n        padding-top: 0.16rem;\r\n        position: relative;\r\n        display: flex;\r\n        img {\r\n          height: 0.46rem;\r\n          width: 0.46rem;\r\n          margin-right: 0.16rem;\r\n          // margin-bottom: 0.12rem;\r\n        }\r\n        .info {\r\n          margin-bottom: 0.12rem;\r\n          h3 {\r\n            display: inline-block;\r\n            width: 1.2rem;\r\n            //   单行文字超出用省略号\r\n            //   scss语法：引入某一个样式\r\n            margin-bottom: 0.06rem;\r\n            @include ellipsis;\r\n          }\r\n          .price {\r\n            display: flex;\r\n            height: 0.14rem;\r\n            &__now {\r\n              font-size: 0.14rem;\r\n              font-weight: 700;\r\n              line-height: 0.2rem;\r\n              color: #e93b3b;\r\n              &::before {\r\n                content: '¥';\r\n                font-size: 0.1rem;\r\n                font-weight: 400;\r\n                transform: scale(0.5, 0.5);\r\n                transform-origin: center top;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .fold {\r\n        width: 3.08rem;\r\n        height: 0.28rem;\r\n        background: #f5f5f5;\r\n        text-align: center;\r\n        line-height: 0.28rem;\r\n        font-size: 0.14rem;\r\n        color: #999999;\r\n        span {\r\n          font-size: 0.18rem;\r\n        }\r\n      }\r\n    }\r\n    .allprice {\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0.24rem;\r\n      // height: 0.18rem;\r\n      font-size: 0.14rem;\r\n      font-weight: 700;\r\n      color: #333;\r\n      &::before {\r\n        content: '¥';\r\n        font-size: 0.1rem;\r\n        font-weight: 400;\r\n      }\r\n      &__minus {\r\n        margin-right: 0.04rem;\r\n      }\r\n      &__add {\r\n        background-color: #0091ff;\r\n        color: $base-color;\r\n        border: none;\r\n        margin-left: 0.04rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./CartList.vue?vue&type=template&id=2fca5cfa&scoped=true\"\nimport script from \"./CartList.vue?vue&type=script&lang=js\"\nexport * from \"./CartList.vue?vue&type=script&lang=js\"\n\nimport \"./CartList.vue?vue&type=style&index=0&id=2fca5cfa&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fca5cfa\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_Fragment","_renderList","$setup","items","item","index","_createBlock","_component_router_link","to","key","_normalizeClass","footer__item","route","name","_createElementVNode","innerHTML","iconfont","_hoisted_3","_toDisplayString","title","setup","useRoute","__exports__","render","_hoisted_2","cartList","JSON","stringify","_hoisted_4","_hoisted_5","product","i","_id","src","imgUrl","alt","_hoisted_7","_hoisted_8","_hoisted_9","price","count","_hoisted_10","toFixed","foldControl","showNum","includes","Object","keys","length","onClick","productHiddenChange","foldIcon","_createVNode","_component_Foot","hiddenProductsEffect","reactive","productList","productKeys","slice","allNum","shopName","components","Foot","store","useStore","state"],"sourceRoot":""}