{"version":3,"file":"js/shop.9b7bae56.js","mappings":"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","sources":["webpack://jingdong/./src/effects/commonCartEffect.js","webpack://jingdong/./src/components/ShopInfo.vue","webpack://jingdong/./src/components/ShopInfo.vue?3071","webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/shop/Shop.vue","webpack://jingdong/./src/views/shop/Content.vue","webpack://jingdong/./src/views/shop/Content.vue?312f","webpack://jingdong/./src/views/shop/Shop.vue?d874","webpack://jingdong/./src/views/shop/ShopCart.vue","webpack://jingdong/./src/views/shop/ShopCart.vue?9d85"],"sourcesContent":["import { toRefs } from 'vue'\r\nimport { useStore } from 'vuex'\r\n// 购物车相关的逻辑\r\nexport const useCommonCartEffect = () => {\r\n  // 在这里用store数据  相当于this.$store了 原来的获取方式是this.$store.state.数据名\r\n  // console.log(shopId)\r\n  const store = useStore()\r\n  // 定义改变数据的事件！！！在这里获取store里的数据，并且更新数据\r\n  // 根据定义的数据结构，将需要的数据作为参数传进去\r\n  const changeCount = (shopId, productId, productInfo, num) => {\r\n    // console.log(shopId, productId, productInfo)\r\n    store.commit('changeCount', { shopId, productId, productInfo, num })\r\n  }\r\n  const { cartList } = toRefs(store.state)\r\n\r\n  return { cartList, changeCount }\r\n}\r\n","<template>\r\n  <li class=\"shop\">\r\n    <!-- id控制跳转到不同的商品详情页面 -->\r\n    <!-- 用item.name来当路由地址，可能会出现item.name不存在的问题！ -->\r\n    <!-- 校验一下：如果有item.name就用item.name否则就用item._id -->\r\n    <router-link :to=\"`/shop/${item.name ? item.name : item._id}`\"\r\n      ><div class=\"container\"><img :src=\"item.imgUrl\" alt=\"\" /></div>\r\n      <!-- 参数控制是否有下划线这个class---参数动态控制标签的样式 -->\r\n      <!-- <div class=\"shop__info shop__info--border\"> -->\r\n      <!-- 用这种方式来控制多个样式 -->\r\n      <div :class=\"{ shop__info: true, 'shop__info--border': hiddeBorder ? false : true }\">\r\n        <h4 class=\"title\">{{ item.name ? item.name : item._id }}</h4>\r\n        <div class=\"tag\">\r\n          <span>月售:{{ item.sales }}</span\r\n          ><span>起送:{{ item.expressLimit }}</span\r\n          ><span>基础运费:{{ item.expressPrice }}</span>\r\n          <span v-for=\"(innerItem, innerIndex) in item.tag\" :key=\"innerIndex\">{{ innerItem }}</span>\r\n        </div>\r\n        <div class=\"highlight\">{{ item.slogan }}</div>\r\n      </div></router-link\r\n    >\r\n  </li>\r\n</template>\r\n\r\n<script>\r\n// hiddeBorder是传入的用来控制是否有这个样式的参数.....\r\nexport default {\r\n  name: 'ShopInfo',\r\n  props: ['item', 'hiddeBorder']\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/virable.scss';\r\n@import '../style/mixins.scss';\r\n.shop {\r\n  margin-top: 0.12rem;\r\n  a {\r\n    display: flex;\r\n    flex: 1;\r\n  }\r\n  .container {\r\n    width: 0.56rem;\r\n    height: 0.56rem;\r\n    img {\r\n      width: 0.56rem;\r\n    }\r\n  }\r\n\r\n  &__info {\r\n    margin-left: 0.16rem;\r\n    width: 100%;\r\n    &--border {\r\n      border-bottom: 0.01rem solid #f1f1f1;\r\n    }\r\n    .title {\r\n      font-weight: 400;\r\n      font-size: 0.16rem;\r\n    }\r\n    .tag {\r\n      font-size: 0.13rem;\r\n      margin-top: 0.08rem;\r\n      span {\r\n        padding-right: 0.16rem;\r\n      }\r\n    }\r\n    .highlight {\r\n      font-size: 0.13rem;\r\n      color: #e93b3b;\r\n      padding: 0.08rem 0 0.12rem 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ShopInfo.vue?vue&type=template&id=7d836894&scoped=true\"\nimport script from \"./ShopInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ShopInfo.vue?vue&type=script&lang=js\"\n\nimport \"./ShopInfo.vue?vue&type=style&index=0&id=7d836894&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d836894\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"toast\">{{ toastMessa }}</div>\r\n</template>\r\n\r\n<script>\r\n// 不需要路由跳转的子组件不需要写名字，直接import的就是整个vue文件中的东西\r\nimport { reactive, toRefs } from 'vue'\r\nconst useToastEffect = () => {\r\n  const toastData = reactive({ show: false, toastMessa: '' })\r\n  const showToast = meesa => {\r\n    toastData.show = true\r\n    toastData.toastMessa = meesa\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessa = ''\r\n    }, 2000)\r\n  }\r\n  // 对象解构是要用名字来结构的，所以名字要对应\r\n  const { show, toastMessa } = toRefs(toastData)\r\n  return { show, toastMessa, showToast }\r\n}\r\nexport default {\r\n  name: 'Toast',\r\n  props: ['toastMessa']\r\n}\r\nexport { useToastEffect }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toast {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 0.2rem;\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  border-radius: 0.05rem;\r\n  color: azure;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=6d51e152&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=6d51e152&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d51e152\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div class=\"wrapper\">\r\n      <div class=\"top\">\r\n        <router-link to=\"../\" class=\"back iconfont\">&#xe6db;</router-link>\r\n        <div class=\"search\">\r\n          <a href=\"#\" class=\"iconfont search__icon\">&#xe6ac;</a>\r\n          <input type=\"text\" placeholder=\"请输入商品名称搜索\" />\r\n        </div>\r\n      </div>\r\n      <!-- 加入的v-show，只有当item.imgURL被加载出来了，该组件才会出现，改善视觉效果 -->\r\n      <ShopInfo :item=\"item\" :hiddeBorder=\"true\" v-show=\"item.imgUrl\" />\r\n      <Content />\r\n    </div>\r\n  </div>\r\n  <ShopCart />\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport ShopInfo from '../../components/ShopInfo.vue'\r\nimport Content from './Content.vue'\r\nimport ShopCart from './ShopCart.vue'\r\nimport { get2 } from '../../utils/request'\r\nimport { useRoute } from 'vue-router'\r\n// useRouter表示的整个项目的路由，useRoute表示当前访问的路由的信息--可以拿到id\r\nconst getShopInfo = () => {\r\n  const route = useRoute()\r\n  const data = reactive({ item: {} })\r\n  console.log(route.params.id)\r\n  const getItemData = async () => {\r\n    const result = await get2(`/api/shop/${route.params.id}`)\r\n    // console.log(result)\r\n    if (result?.errno === 0 && result?.data) {\r\n      // 原接口是直接拿的data\r\n      data.item = result.data\r\n    }\r\n  }\r\n  const { item } = toRefs(data)\r\n  getItemData()\r\n  return { item }\r\n}\r\nexport default {\r\n  name: 'Shop',\r\n  components: { ShopInfo, Content, ShopCart },\r\n  setup() {\r\n    const { item } = getShopInfo()\r\n    return { item }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/virable.scss';\r\n// .content {\r\n//   position: relative;\r\n//   padding: 0 0.18rem 0.2rem 0.18rem;\r\n// }\r\n.top {\r\n  display: flex;\r\n  margin: 0.16rem 0 0.16rem 0;\r\n  width: 100%;\r\n  height: 0.32rem;\r\n  .back {\r\n    color: #b6b6b6;\r\n    font-size: 0.3rem;\r\n    line-height: 0.32rem;\r\n  }\r\n  .search {\r\n    display: flex;\r\n    flex: 1;\r\n    width: 100%;\r\n    background-color: $search-bgColor;\r\n    border-radius: 0.18rem;\r\n    &__icon {\r\n      padding: 0 0.12rem 0 0.16rem;\r\n      font-size: 0.16rem;\r\n      line-height: 0.32rem;\r\n    }\r\n    input {\r\n      // 清除input框的原有样式\r\n      border: none;\r\n      outline: none;\r\n      background: none;\r\n      width: 100%;\r\n      font-size: 0.16rem;\r\n      &::placeholder {\r\n        font-size: 0.14rem;\r\n        color: #333333;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"content\">\r\n    <div class=\"content__nav\">\r\n      <ul>\r\n        <li\r\n          v-for=\"item in categotyInfo\"\r\n          :key=\"item.name\"\r\n          @click=\"\r\n            () => {\r\n              handleCategotyClick(item.tab)\r\n            }\r\n          \"\r\n          :class=\"{ 'content__nav--active': item.tab === curTab }\"\r\n        >\r\n          {{ item.name }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"content__goods\">\r\n      <ul>\r\n        <li v-for=\"item in content\" :key=\"item._id\">\r\n          <img :src=\"item.imgUrl\" alt=\"\" />\r\n          <div class=\"info\">\r\n            <h3>{{ item.name }}</h3>\r\n            <p>月售{{ item.sales }}件</p>\r\n            <div class=\"price\">\r\n              <div class=\"price__now\">{{ item.price }}</div>\r\n              <div class=\"price__origin\">{{ item.oldPrice }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"number\">\r\n            <span\r\n              class=\"number__minus\"\r\n              @click=\"\r\n                () => {\r\n                  changeCount(shopId, item._id, item, -1)\r\n                }\r\n              \"\r\n              >-</span\r\n            >\r\n            <!-- 一开始没有的话，赋0！！ -->\r\n            {{ cartList?.[shopId]?.[item._id]?.count || 0 }}\r\n            <span\r\n              class=\"number__add\"\r\n              @click=\"\r\n                () => {\r\n                  changeCount(shopId, item._id, item, 1)\r\n                }\r\n              \"\r\n              >+</span\r\n            >\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, toRefs, watchEffect } from 'vue'\r\nimport { get2 } from '../../utils/request'\r\nimport { useRoute } from 'vue-router'\r\nimport { useCommonCartEffect } from '../../effects/commonCartEffect'\r\nconst categotyInfo = [\r\n  { name: '全部商品', tab: 'all' },\r\n  { name: '秒杀', tab: 'seckill' },\r\n  { name: '新鲜水果', tab: 'fruit' }\r\n]\r\n// tab变化相关的逻辑---初始tab--点击改变tab\r\nconst uesTabEffect = () => {\r\n  const curTab = ref(categotyInfo[0].tab)\r\n  // 点击某个类别，获得该类别的tab---直接在事件绑定那儿写一个箭头函数，调用这个函数，并且传入参数！！\r\n  const handleCategotyClick = tab => {\r\n    // 获得当前点击的类别后，发起请求\r\n    // getCategotyInfos(tab)\r\n    // console.log(tab)\r\n    curTab.value = tab\r\n  }\r\n  return { curTab, handleCategotyClick }\r\n}\r\n// contentlist变化相关的逻辑\r\nconst contentListEffect = (curTab, shopId) => {\r\n  // console.log(shopId)\r\n  const contentList = reactive({ content: [] })\r\n  const getCategotyInfos = async () => {\r\n    const result = await get2(`/api/shop/${shopId}/products`, { tab: curTab.value })\r\n    // console.log(result1)\r\n    // const result = await get(`/api/shop/${shopId}/products`, { tab: curTab.value })\r\n    if (result?.errno === 0 && result?.data) {\r\n      contentList.content = result.data\r\n    }\r\n  }\r\n  // 当curTba变化时，就会自动执行这个函数---通过watcheffect监听数据变化，自动调用函数！！\r\n  watchEffect(() => {\r\n    getCategotyInfos()\r\n  })\r\n  const { content } = toRefs(contentList)\r\n  const { cartList, changeCount } = useCommonCartEffect()\r\n  return { cartList, changeCount, content }\r\n}\r\n// 购物车相关的逻辑\r\n\r\nexport default {\r\n  name: 'Content',\r\n  setup() {\r\n    // 商品类别导航条数据----每个导航都有一个对应的tab，点击这个导航条获得相应的tab，传入get，获得相应类别的数据\r\n    // 传入后端需要的参数，获得后端传来的信息--url和tab\r\n    // 把后端传来的数据，存进响应式数据里，用这个数据去循环html渲染每个商品 // 初始定义，每次打开，显示的都是all\r\n    // const route = useRoute()\r\n    // const shopId = route.params._id\r\n    // const productInfo = reactive({ contentList: [], curTab: categotyInfo[0].tab })\r\n    // // 依赖参数当前tab来发起\r\n    // const getCategotyInfos = async () => {\r\n    //   const result = await get(`/api/shop/${shopId}/products`, { tab: productInfo.curTab })\r\n    //   if (result?.errno === 0 && result?.data) {\r\n    //     productInfo.contentList = result.data\r\n    //   }\r\n    // }\r\n    // getCategotyInfos()\r\n    // const { contentList } = toRefs(productInfo)\r\n    // // 点击某个类别，获得该类别的tab---直接在事件绑定那儿写一个箭头函数，调用这个函数，并且传入参数！！\r\n    // const handleCategotyClick = tab => {\r\n    //   // 获得当前点击的类别后，发起请求\r\n    //   getCategotyInfos(tab)\r\n    //   //   console.log(tab)\r\n    //   productInfo.curTab = tab\r\n    const route = useRoute()\r\n    const shopId = route.params.id\r\n    const { curTab, handleCategotyClick } = uesTabEffect()\r\n    const { content, cartList, changeCount } = contentListEffect(curTab, shopId)\r\n    // 页面上要用到的是cartList里面对应商户，对应商品的count值---需要传进来的东西\r\n\r\n    return {\r\n      shopId,\r\n      categotyInfo,\r\n      content,\r\n      handleCategotyClick,\r\n      curTab,\r\n      cartList,\r\n      changeCount\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/virable.scss';\r\n@import '../../style/mixins.scss';\r\n.content {\r\n  padding-top: 0.1rem;\r\n  //   background-color: lightblue;\r\n  display: flex;\r\n  //   直接用绝对定位可以很好地解决位置和浮动问题，给上面的组件直接留出空间！！\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 1.5rem;\r\n  bottom: 0.4rem;\r\n  overflow-y: scroll;\r\n  &__nav {\r\n    height: 100%;\r\n    width: 0.76rem;\r\n    background-color: $search-bgColor;\r\n    &--active {\r\n      background: $base-color;\r\n    }\r\n    li {\r\n      width: 100%;\r\n      height: 0.4rem;\r\n      font-size: 0.14rem;\r\n      color: #333333;\r\n      line-height: 0.4rem;\r\n      text-align: center;\r\n    }\r\n  }\r\n  &__goods {\r\n    // 在子元素上写flex=1，就表示占父元素剩下的空间的几份\r\n    flex: 1;\r\n    overflow-y: scroll;\r\n    li {\r\n      position: relative;\r\n      display: flex;\r\n      margin: 0 0.18rem 0.12rem 0.16rem;\r\n      border-bottom: solid 0.01rem #f1f1f1;\r\n      img {\r\n        width: 0.68rem;\r\n        margin: 0 0.16rem 0 0;\r\n        margin-bottom: 0.12rem;\r\n      }\r\n      .info {\r\n        margin-bottom: 0.12rem;\r\n        h3 {\r\n          display: inline-block;\r\n          width: 1.2rem;\r\n          //   单行文字超出用省略号\r\n          //   scss语法：引入某一个样式\r\n          @include ellipsis;\r\n        }\r\n        p {\r\n          font-size: 0.12rem;\r\n          color: #333;\r\n          padding: 0.08rem 0;\r\n        }\r\n        .price {\r\n          display: flex;\r\n          height: 0.2rem;\r\n          &__now {\r\n            font-size: 0.14rem;\r\n            font-weight: 700;\r\n\r\n            line-height: 0.2rem;\r\n            color: red;\r\n            &::before {\r\n              content: '￥';\r\n              font-size: 0.12rem;\r\n              font-weight: 400;\r\n            }\r\n          }\r\n          &__origin {\r\n            margin-left: 0.06rem;\r\n            line-height: 0.2rem;\r\n            font-size: 0.12rem;\r\n            color: #999;\r\n            text-decoration: line-through;\r\n            &::before {\r\n              content: '￥';\r\n              font-size: 0.12rem;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .number {\r\n        position: absolute;\r\n        right: 0;\r\n        bottom: 0.12rem;\r\n        height: 0.18rem;\r\n        font-size: 0.12rem;\r\n        color: #333;\r\n        &__minus,\r\n        &__add {\r\n          display: inline-block;\r\n          width: 0.18rem;\r\n          height: 0.18rem;\r\n          border: solid 0.01rem #666;\r\n          border-radius: 50%;\r\n          font-size: 0.18rem;\r\n          line-height: 0.14rem;\r\n          text-align: center;\r\n        }\r\n        &__minus {\r\n          margin-right: 0.04rem;\r\n        }\r\n        &__add {\r\n          background-color: #0091ff;\r\n          color: $base-color;\r\n          border: none;\r\n          margin-left: 0.04rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Content.vue?vue&type=template&id=d57d11a4&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\n\nimport \"./Content.vue?vue&type=style&index=0&id=d57d11a4&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d57d11a4\"]])\n\nexport default __exports__","import { render } from \"./Shop.vue?vue&type=template&id=2736511e&scoped=true\"\nimport script from \"./Shop.vue?vue&type=script&lang=js\"\nexport * from \"./Shop.vue?vue&type=script&lang=js\"\n\nimport \"./Shop.vue?vue&type=style&index=0&id=2736511e&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2736511e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"mask\" v-if=\"showCartList && calculate.totalNum > 0\" @click=\"handleShowCartlist\"></div>\r\n  <div class=\"product\" v-if=\"showCartList && calculate.totalNum > 0\">\r\n    <div class=\"product__state\">\r\n      <div class=\"product__state__selectall\">\r\n        <span\r\n          class=\"icon iconfont\"\r\n          v-html=\"calculate.allSelectd ? '&#xe810;' : '&#xe61a;'\"\r\n          @click=\"\r\n            () => {\r\n              changeSelectAllState(shopId)\r\n            }\r\n          \"\r\n        ></span>\r\n        全选\r\n      </div>\r\n      <div\r\n        class=\"product__state__cleanall\"\r\n        @click=\"\r\n          () => {\r\n            clearAll(shopId)\r\n          }\r\n        \"\r\n      >\r\n        清空购物车\r\n      </div>\r\n    </div>\r\n    <ul>\r\n      <li v-for=\"item in product\" :key=\"item._id\" v-show=\"item.count > 0\">\r\n        <div class=\"iconfont check\" v-html=\"item.check ? '&#xe810;' : '&#xe61a;'\" @click=\"() => changeProductCheck(shopId, item._id)\"></div>\r\n        <img :src=\"item.imgUrl\" alt=\"\" />\r\n        <div class=\"info\">\r\n          <h3>{{ item.name }}</h3>\r\n          <div class=\"price\">\r\n            <div class=\"price__now\">{{ item.price }}</div>\r\n            <div class=\"price__origin\">{{ item.oldPrice }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"number\">\r\n          <span\r\n            class=\"number__minus\"\r\n            @click=\"\r\n              () => {\r\n                changeCount(shopId, item._id, item, -1)\r\n              }\r\n            \"\r\n            >-</span\r\n          >\r\n          <!-- 一开始没有的话，赋0！！ -->\r\n          {{ item.count || 0 }}\r\n          <span\r\n            class=\"number__add\"\r\n            @click=\"\r\n              () => {\r\n                changeCount(shopId, item._id, item, 1)\r\n              }\r\n            \"\r\n            >+</span\r\n          >\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class=\"bottom\">\r\n    <div class=\"bottom__basket\" @click=\"handleShowCartlist\">\r\n      <img src=\"http://www.dell-lee.com/imgs/vue3/basket.png\" alt=\"\" />\r\n      <div class=\"tag\">{{ calculate.totalNum }}</div>\r\n    </div>\r\n    <div class=\"bottom__allprice\">\r\n      总计：<span class=\"price\">&yen;{{ calculate.totalPrice }}</span>\r\n    </div>\r\n    <!-- 这里应该添加一个判断，如果购物车为0的话，弹出提示框，如果不为0才跳转 -->\r\n    <div class=\"bottom__check\" @click=\"checkClick\">去结算</div>\r\n  </div>\r\n  <Toast v-if=\"show\" :toastMessa=\"toastMessa\" />\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { useCommonCartEffect } from '../../effects/commonCartEffect'\r\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\r\n\r\nconst useCheckEffect = (product, shopId) => {\r\n  const router = useRouter()\r\n  const { show, toastMessa, showToast } = useToastEffect()\r\n  // console.log(JSON.stringify(product.value))\r\n  // console.log(product)o')\r\n  // 判断它是否为空对象！\r\n  const checkClick = () => {\r\n    JSON.stringify(product.value) === '{}' ? showToast('请至少添加一种添加商品!') : router.push({ path: `/orderConfirmation/${shopId}` })\r\n  }\r\n  return { checkClick, show, toastMessa }\r\n}\r\n// 底部商品数量总和与价格总和//底部勾选的逻辑\r\nexport const useCartEffect = (shopId, showCartList) => {\r\n  const store = useStore()\r\n  const cartList = store.state.cartList\r\n  const calculate = computed(() => {\r\n    const productList = cartList[shopId]\r\n    let totalNum = 0\r\n    let totalPrice = 0\r\n    let allSelectd = true\r\n    if (productList) {\r\n      for (const i in productList) {\r\n        const product = productList[i]\r\n        totalNum += product.count\r\n        if (product.check) {\r\n          totalPrice += product.count * product.price\r\n        }\r\n        // 循环里面的商品，只要有一个不满足check为真，那就会改变result的值\r\n        if (!product.check) {\r\n          allSelectd = false\r\n        }\r\n      }\r\n    }\r\n    if (totalNum <= 0) {\r\n      showCartList.value = false\r\n    }\r\n    totalPrice = totalPrice.toFixed(2)\r\n    return { totalNum, totalPrice, allSelectd }\r\n  })\r\n  // 直接用计算属性来写全部选中的状态\r\n  // 因为这里其实不涉及到需要改变stroe里存储的数据状态，只是选中按钮的状态而已！！\r\n  // 底部购物栏中的商品展示的逻辑\r\n  // 1、拿到store中的数据，然后利用里面的数据，将商品通过v-for的方式展示出来\r\n  const product = computed(() => {\r\n    const productList = cartList[shopId] || {}\r\n    return productList\r\n  })\r\n  const { changeCount } = useCommonCartEffect()\r\n  // 底部勾选的逻辑----绑定click事件，点击，发起修改store中的数据的请求，将这个页面对应的商品的check属性置反，一开始的属性应该为true---加入购物车的默认状态应该是选中\r\n  const changeProductCheck = (shopId, productId) => {\r\n    store.commit('changeProductCheck', { shopId, productId })\r\n  }\r\n  const changeSelectAllState = shopId => {\r\n    store.commit('changeSelectAllState', { shopId })\r\n  }\r\n  const clearAll = shopId => {\r\n    store.commit('clearAll', { shopId })\r\n  }\r\n  return { calculate, product, changeCount, changeProductCheck, changeSelectAllState, clearAll }\r\n}\r\n// 展示隐藏购物车逻辑\r\nconst toggleCartEffect = () => {\r\n  // 定义一个响应式数据来决定是否显示购物车---直接再这里写\r\n  const showCartList = ref(false)\r\n  const handleShowCartlist = () => {\r\n    showCartList.value = !showCartList.value\r\n  }\r\n  // if (totalNum === 0) {\r\n  //   showCartList.value = ref(false)\r\n  // }\r\n  return { showCartList, handleShowCartlist }\r\n}\r\n\r\nexport default {\r\n  name: 'ShopCart',\r\n  components: { Toast },\r\n  setup() {\r\n    // 为什么要用computed？\r\n    // 定义页面上的商品数量总和和价钱总和的函数\r\n    const route = useRoute()\r\n    const shopId = route.params.id\r\n    const { showCartList, handleShowCartlist } = toggleCartEffect()\r\n    const { calculate, product, changeCount, changeProductCheck, changeSelectAllState, clearAll } = useCartEffect(shopId, showCartList)\r\n    const { checkClick, show, toastMessa } = useCheckEffect(product, shopId)\r\n    return { calculate, product, shopId, showCartList, changeCount, changeProductCheck, changeSelectAllState, clearAll, handleShowCartlist, checkClick, show, toastMessa }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import '../../style/virable.scss';\r\n@import '../../style/mixins.scss';\r\n.mask {\r\n  // 为什么一定要这样写才生效？？！只设置两个数值，然后写height100%和wight100%为啥不可以\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n.product {\r\n  // 在子元素上写flex=1，就表示占父元素剩下的空间的几份\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0.5rem;\r\n  background: #fff;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column;\r\n  &__state {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    height: 0.52rem;\r\n    line-height: 0.52rem;\r\n    font-size: 0.14rem;\r\n    margin: 0 0.18rem 0 0.18rem;\r\n    // z-index: 100;\r\n    background-color: #fff;\r\n    &__selectall {\r\n      span {\r\n        display: inline-block;\r\n        color: #0091ff;\r\n        margin-right: 0.084rem;\r\n        font-size: 0.18rem;\r\n      }\r\n    }\r\n  }\r\n  ul {\r\n    padding-top: 0.16rem;\r\n    border-top: solid 0.01rem #f1f1f1;\r\n    border-bottom: solid 0.01rem #f1f1f1;\r\n    // z-index: 100;\r\n  }\r\n  li {\r\n    height: 0.46rem;\r\n    position: relative;\r\n    display: flex;\r\n    margin: 0 0.18rem 0.16rem 0;\r\n    .check {\r\n      line-height: 0.54rem;\r\n      text-align: center;\r\n      width: 0.54rem;\r\n      height: 100%;\r\n      font-size: 0.18rem;\r\n      color: #0091ff;\r\n    }\r\n    img {\r\n      height: 0.46rem;\r\n      width: 0.46rem;\r\n      margin-right: 0.16rem;\r\n      // margin-bottom: 0.12rem;\r\n    }\r\n    .info {\r\n      margin-bottom: 0.12rem;\r\n      h3 {\r\n        display: inline-block;\r\n        width: 1.2rem;\r\n        //   单行文字超出用省略号\r\n        //   scss语法：引入某一个样式\r\n        margin-bottom: 0.06rem;\r\n        @include ellipsis;\r\n      }\r\n      .price {\r\n        display: flex;\r\n        height: 0.14rem;\r\n        &__now {\r\n          font-size: 0.14 rem;\r\n          font-weight: 700;\r\n\r\n          line-height: 0.2rem;\r\n          color: red;\r\n          &::before {\r\n            content: '￥';\r\n            font-size: 0.12rem;\r\n            font-weight: 400;\r\n          }\r\n        }\r\n        &__origin {\r\n          margin-left: 0.06rem;\r\n          line-height: 0.2rem;\r\n          font-size: 0.12rem;\r\n          color: #999;\r\n          text-decoration: line-through;\r\n          &::before {\r\n            content: '￥';\r\n            font-size: 0.12rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .number {\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0.12rem;\r\n      height: 0.18rem;\r\n      font-size: 0.12rem;\r\n      color: #333;\r\n      &__minus,\r\n      &__add {\r\n        display: inline-block;\r\n        width: 0.18rem;\r\n        height: 0.18rem;\r\n        border: solid 0.01rem #666;\r\n        border-radius: 50%;\r\n        font-size: 0.18rem;\r\n        line-height: 0.14rem;\r\n        text-align: center;\r\n      }\r\n      &__minus {\r\n        margin-right: 0.04rem;\r\n      }\r\n      &__add {\r\n        background-color: #0091ff;\r\n        color: $base-color;\r\n        border: none;\r\n        margin-left: 0.04rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n.bottom {\r\n  width: 100%;\r\n  height: 0.5rem;\r\n  background-color: white;\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  border: 0.01rem solid #fff;\r\n  display: flex;\r\n  &__basket {\r\n    position: relative;\r\n    line-height: 0.5rem;\r\n    width: 0.76rem;\r\n    text-align: center;\r\n    img {\r\n      width: 0.29rem;\r\n    }\r\n    .tag {\r\n      // 只能一起放大缩小！\r\n      position: absolute;\r\n      top: 0.04rem;\r\n      left: 0.48rem;\r\n      padding: 0 0.06rem;\r\n      // width: 0.2rem;\r\n      height: 0.2rem;\r\n      line-height: 0.2rem;\r\n      text-align: center;\r\n      color: #fff;\r\n      border-radius: 0.1rem;\r\n      background-color: red;\r\n      transform: scale(0.5);\r\n      transform-origin: left center;\r\n    }\r\n  }\r\n  &__allprice {\r\n    flex: 1;\r\n    line-height: 0.5rem;\r\n    .price {\r\n      // 这个vertical-align不是很懂\r\n      vertical-align: middle;\r\n      font-size: 0.18rem;\r\n      color: red;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n  &__check {\r\n    height: 100%;\r\n    width: 0.98rem;\r\n    background-color: #4fb0f9;\r\n    text-align: center;\r\n    line-height: 0.5rem;\r\n    font-size: 0.14rem;\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ShopCart.vue?vue&type=template&id=36cdfab3&scoped=true\"\nimport script from \"./ShopCart.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCart.vue?vue&type=script&lang=js\"\n\nimport \"./ShopCart.vue?vue&type=style&index=0&id=36cdfab3&scoped=true&lang=scss\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36cdfab3\"]])\n\nexport default __exports__"],"names":["useCommonCartEffect","store","useStore","changeCount","shopId","productId","productInfo","num","commit","cartList","toRefs","state","class","_createElementBlock","_hoisted_1","_createVNode","_component_router_link","to","$props","item","name","_id","_createElementVNode","_hoisted_2","src","imgUrl","alt","_normalizeClass","shop__info","hiddeBorder","_hoisted_4","_toDisplayString","_hoisted_5","sales","expressLimit","expressPrice","_Fragment","_renderList","tag","innerItem","innerIndex","key","_hoisted_6","slogan","props","__exports__","render","toastMessa","useToastEffect","toastData","reactive","show","showToast","meesa","setTimeout","href","type","placeholder","_hoisted_3","_component_ShopInfo","$setup","_component_Content","_component_ShopCart","categotyInfo","onClick","handleCategotyClick","tab","curTab","content","_hoisted_7","_hoisted_8","price","_hoisted_9","oldPrice","_hoisted_10","_hoisted_11","count","_hoisted_12","uesTabEffect","ref","value","contentListEffect","contentList","getCategotyInfos","async","result","get2","errno","data","watchEffect","setup","route","useRoute","params","id","getShopInfo","console","log","getItemData","components","ShopInfo","Content","ShopCart","showCartList","calculate","totalNum","_cache","args","handleShowCartlist","innerHTML","allSelectd","changeSelectAllState","clearAll","product","check","changeProductCheck","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","totalPrice","checkClick","_createBlock","_component_Toast","useCheckEffect","router","useRouter","JSON","stringify","push","path","useCartEffect","computed","productList","i","toFixed","toggleCartEffect","Toast"],"sourceRoot":""}