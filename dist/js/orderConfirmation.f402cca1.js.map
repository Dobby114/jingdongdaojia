{"version":3,"file":"js/orderConfirmation.f402cca1.js","mappings":"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","sources":["webpack://jingdong/./src/effects/commonCartEffect.js","webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/orderConfirmation/OrderConfirmation.vue","webpack://jingdong/./src/views/orderConfirmation/OrderConfirmation.vue?bcaf","webpack://jingdong/./src/views/shop/ShopCart.vue","webpack://jingdong/./src/views/shop/ShopCart.vue?9d85"],"sourcesContent":["import { toRefs } from 'vue'\r\nimport { useStore } from 'vuex'\r\n// 购物车相关的逻辑\r\nexport const useCommonCartEffect = () => {\r\n  // 在这里用store数据  相当于this.$store了 原来的获取方式是this.$store.state.数据名\r\n  // console.log(shopId)\r\n  const store = useStore()\r\n  // 定义改变数据的事件！！！在这里获取store里的数据，并且更新数据\r\n  // 根据定义的数据结构，将需要的数据作为参数传进去\r\n  const changeCount = (shopId, productId, productInfo, num) => {\r\n    // console.log(shopId, productId, productInfo)\r\n    store.commit('changeCount', { shopId, productId, productInfo, num })\r\n  }\r\n  const { cartList } = toRefs(store.state)\r\n\r\n  return { cartList, changeCount }\r\n}\r\n","<template>\r\n  <div class=\"toast\">{{ toastMessa }}</div>\r\n</template>\r\n\r\n<script>\r\n// 不需要路由跳转的子组件不需要写名字，直接import的就是整个vue文件中的东西\r\nimport { reactive, toRefs } from 'vue'\r\nconst useToastEffect = () => {\r\n  const toastData = reactive({ show: false, toastMessa: '' })\r\n  const showToast = meesa => {\r\n    toastData.show = true\r\n    toastData.toastMessa = meesa\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessa = ''\r\n    }, 2000)\r\n  }\r\n  // 对象解构是要用名字来结构的，所以名字要对应\r\n  const { show, toastMessa } = toRefs(toastData)\r\n  return { show, toastMessa, showToast }\r\n}\r\nexport default {\r\n  name: 'Toast',\r\n  props: ['toastMessa']\r\n}\r\nexport { useToastEffect }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toast {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 0.2rem;\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  border-radius: 0.05rem;\r\n  color: azure;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=6d51e152&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=6d51e152&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d51e152\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container\">\r\n    <div class=\"topbackground\"></div>\r\n    <div class=\"wrappar\">\r\n      <div class=\"header\">\r\n        <!-- :to=\"`/shop/${item.name}` -->\r\n        <div class=\"themes\"><router-link :to=\"`/shop/${shopId}`\" class=\"iconfont\">&#xe6db;</router-link>确认订单</div>\r\n        <div class=\"address\">\r\n          <div class=\"address__info\">\r\n            <h3>收货地址</h3>\r\n            <p class=\"address__info__text\">上海大学延长校区行健楼10层技园2号楼10层</p>\r\n            <p class=\"address__info__concact\">牛牛(先生) 1234556767</p>\r\n          </div>\r\n          <div class=\"iconfont address__organize\">&#xe6db;</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\">\r\n        <!-- 局部滚动实现方法，给content加一个高度限制，和一个overflow-y：scroll\r\n          然后元素超出这个高度，就会自动实现在这个content区域的滚动！ -->\r\n        <h3 class=\"shopname\">{{ shopId }}</h3>\r\n        <ul>\r\n          <li v-for=\"item in products\" :key=\"item._id\" v-show=\"showProducts.includes(item._id)\">\r\n            <img :src=\"item.imgUrl\" alt=\"\" />\r\n            <div class=\"info\">\r\n              <h3>{{ item.name ? item.name : '' }}</h3>\r\n              <div class=\"price\">\r\n                <div class=\"price__now\">{{ item.price }} x {{ item.count }}</div>\r\n              </div>\r\n            </div>\r\n            <!-- 一开始没有的话，赋0！！ -->\r\n            <div class=\"allprice\">{{ (item.count * item.price).toFixed(2) }}</div>\r\n          </li>\r\n          <div class=\"fold\" @click=\"productHiddenChange\" v-if=\"showFold\">共计{{ Object.keys(products).length }}件/1.4kg <span class=\"iconfont\" v-html=\"foldIcon ? '&#xe665;' : '&#xe686;'\"></span></div>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"footer\">\r\n      <div class=\"allprice\">\r\n        实付金额 <b>¥{{ totalPrice }}</b>\r\n      </div>\r\n      <button class=\"submit\" @click=\"submitClick\">提交订单</button>\r\n    </div>\r\n    <div v-show=\"mask\" class=\"mask\">\r\n      <div v-show=\"!paySuccess\" class=\"confirm\">\r\n        <h3>确认要离开收银台？</h3>\r\n        <p>请尽快完成支付，否则将被取消</p>\r\n        <div class=\"chose\">\r\n          <button class=\"cancle\" @click=\"cancleClick\">取消订单</button>\r\n          <button @click=\"() => payClick(shopId, products)\">确认支付</button>\r\n        </div>\r\n      </div>\r\n      <div v-show=\"paySuccess\" class=\"paysuccess\">\r\n        <div class=\"iconfont exit\" @click=\"() => exitClick(router)\">&#xe65c;</div>\r\n        <div class=\"iconfont yes\">&#xe80f;</div>\r\n        <div class=\"prompt\">支付成功，等待配送</div>\r\n      </div>\r\n    </div>\r\n    <Toast v-if=\"show\" :toastMessa=\"toastMessa\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useCommonCartEffect } from '../../effects/commonCartEffect'\r\nimport { useCartEffect } from '../shop/ShopCart.vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\r\n\r\nconst submitOrder = (store, orderInfo) => {\r\n  store.commit('submitOrder', { orderInfo })\r\n}\r\nconst useButtonEffect = (showToast, clearAll, shopId, store) => {\r\n  // 点击事件\r\n  // 点击提交订单后出现mask\r\n  const mask = ref(false)\r\n  const paySuccess = ref(false)\r\n  const submitClick = () => {\r\n    mask.value = true\r\n  }\r\n  // 点击取消订单，mask消失---用变量来控制mask是否渲染--v-if或者v-show\r\n  const cancleClick = () => {\r\n    mask.value = false\r\n  }\r\n  // 点击确认支付，mask不要消失--同时进入确认订单页面（这个先不做）用弹出支付成功，等待配送取代---变量控制\r\n  // 下完订单后对应商铺的购物车应该清空然后跳到我的订单页面\r\n  const payClick = async (shopId, productsList) => {\r\n    // 把订单数据传递到后端，创建订单\r\n    const products = []\r\n    const orderProducts = []\r\n    for (const i in productsList) {\r\n      const product = productsList[i]\r\n      products.push({ id: product._id, name: product.name })\r\n      orderProducts.push({ orderSales: product.count, product: { name: product.name, img: product.imgUrl, price: product.price, sales: product.sales } })\r\n    }\r\n    // try———catch保证就算是地址错了，还能往下，最后得到catch的错误\r\n    // 点击登录发起post请求,传入后端需要的参数---接口返回数据，根据数据判断是否请求成功\r\n    try {\r\n      // 如果用户没有输入账号或者密码的话，做一个校验提示---如果没填的话，就不会进行下面的发出请求操作\r\n\r\n      // 根据后端接口返回的数据来判断\r\n      // const result1 = await post2('/api/test', { username: 'lyh' })\r\n      // console.log(result1)\r\n      const result = await post('/api/order', {\r\n        addressId: '上海大学延长校区行健楼10层技园2号楼10层',\r\n        shopId,\r\n        shopName: shopId,\r\n        isCanceled: false,\r\n        products\r\n      })\r\n      if (result?.errno === 0) {\r\n        // 创建订单成功，显示成功\r\n        paySuccess.value = true\r\n      } else {\r\n        showToast('提交订单失败')\r\n      }\r\n    } catch (err) {\r\n      showToast('提交订单失败')\r\n      // console.error(err.message)\r\n    }\r\n    // console.log(orderProducts)\r\n    // 把订单数据存到localstorage里的\r\n    const orderInfo = {\r\n      address: '上海大学延长校区行健楼10层技园2号楼10层',\r\n      shopId: shopId,\r\n      shopName: shopId,\r\n      isCanceled: false,\r\n      products: orderProducts\r\n    }\r\n    // console.log(orderInfo)\r\n    submitOrder(store, orderInfo)\r\n  }\r\n  const exitClick = router => {\r\n    mask.value = false\r\n    paySuccess.value = false\r\n    router.push({ name: 'OrderList' })\r\n    // 跳转之后清空这个页面的购物车的内容\r\n    clearAll(shopId)\r\n  }\r\n  return { submitClick, cancleClick, payClick, exitClick, mask, paySuccess }\r\n}\r\nconst hiddenProductsEffect = products => {\r\n  // 唉貌似不对，不是改变product因为他牵扯到页面上的计算，用v-show来控制，点击按钮i改变给v-show的值\r\n  // 当商品数量超过2个，只显示前两个商品且出现折叠按钮--折叠按钮上的信息对应\r\n  const showFold = ref(false)\r\n  // 默认是折叠的\r\n  const foldIcon = ref(true)\r\n  // 获取所有商品的keyid--对应每个商品的_id的值\r\n  const productKeys = Object.keys(products)\r\n  const showProducts = ref(productKeys)\r\n  if (productKeys.length > 2) {\r\n    showFold.value = true\r\n    // 当用变量作为对象中的属性名时，要用[]把变量包裹起来！！}\r\n    // 取前两个商品---slice不会改变原数组splice会改变\r\n    showProducts.value = productKeys.slice(0, 2)\r\n    // includes函数判断某个数字中是否包含某个元素！\r\n    // console.log(showProducts)\r\n  }\r\n  const productHiddenChange = () => {\r\n    // 点击判断，如果目前是折叠的，就让foldIcon的值变为false同时，改变showProducts，如果不是则相反\r\n    foldIcon.value ? (showProducts.value = productKeys) : (showProducts.value = productKeys.slice(0, 2))\r\n    foldIcon.value = !foldIcon.value\r\n  }\r\n  // 点击折叠按钮之后，折叠按钮变成折叠功能并且显示所有的商品----改变icon图标而已\r\n  // 再次点击折叠按钮，将商品折叠为2个\r\n  return { showFold, showProducts, foldIcon, productHiddenChange }\r\n}\r\nexport default {\r\n  name: 'OrderConfirmation',\r\n  components: { Toast },\r\n  setup() {\r\n    // 1.拿到相对应的商户的购物车里的信息\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const shopId = route.params.id\r\n    // 发现一个问题，这种写法只能在setup函数里使用获得路由和store！！？？\r\n    const store = useStore()\r\n    const { cartList } = useCommonCartEffect()\r\n    const products = cartList.value[shopId]\r\n    // 为啥我这里用计算属性就要变成这样？\r\n    const { calculate, clearAll } = useCartEffect(shopId, products)\r\n    const totalPrice = calculate.value.totalPrice\r\n    const { show, toastMessa, showToast } = useToastEffect()\r\n    const { submitClick, cancleClick, payClick, exitClick, mask, paySuccess } = useButtonEffect(showToast, clearAll, shopId, store)\r\n    const { showFold, productHiddenChange, foldIcon, showProducts } = hiddenProductsEffect(products)\r\n    return { shopId, products, totalPrice, submitClick, cancleClick, payClick, exitClick, mask, paySuccess, show, toastMessa, router, showFold, foldIcon, productHiddenChange, showProducts }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/mixins.scss';\r\n@import '../../style/virable.scss';\r\n.container {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: #eee;\r\n  .topbackground {\r\n    width: 100%;\r\n    height: 1.59rem;\r\n    background-image: linear-gradient(0deg, rgba(0, 145, 255, 0) 4%, #0091ff 50%);\r\n    z-index: 1;\r\n  }\r\n  .wrappar {\r\n    position: absolute;\r\n    left: 0.18rem;\r\n    top: 0.26rem;\r\n    right: 0.18rem;\r\n    bottom: 0.5rem;\r\n  }\r\n  .header {\r\n    .themes {\r\n      color: #fff;\r\n      font-size: 0.16rem;\r\n      .iconfont {\r\n        color: #fff;\r\n        margin-right: 1.2rem;\r\n        display: inline-block;\r\n        font-size: 0.27rem;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n    .address {\r\n      margin-top: 0.22rem;\r\n      height: 1.11rem;\r\n      width: 3.39rem;\r\n      background-color: #fff;\r\n      display: float;\r\n      &__info {\r\n        float: left;\r\n        padding: 0.16rem 0 0.16rem 0.16rem;\r\n        color: #333333;\r\n        h3 {\r\n          font-size: 0.16rem;\r\n          padding-bottom: 0.14rem;\r\n        }\r\n        &__text {\r\n          font-size: 0.14rem;\r\n          padding-bottom: 0.1rem;\r\n          color: #333333;\r\n          width: 2rem;\r\n          @include ellipsis;\r\n        }\r\n        &__concact {\r\n          color: #666666;\r\n        }\r\n      }\r\n      &__organize {\r\n        float: right;\r\n        line-height: 1.11rem;\r\n        font-size: 0.2rem;\r\n        transform: rotateY(180deg);\r\n        color: #666666;\r\n        margin-right: 0.16rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  .content {\r\n    margin-top: 0.16rem;\r\n    padding-bottom: 0.55rem;\r\n    height: 4rem;\r\n    overflow-y: scroll;\r\n    .shopname {\r\n      padding: 0.16rem 0 0 0.16rem;\r\n      background-color: #fff;\r\n    }\r\n    ul {\r\n      padding: 0.16rem;\r\n      // z-index: 100;\r\n      background-color: #fff;\r\n      li {\r\n        padding-bottom: 0.16rem;\r\n        position: relative;\r\n        display: flex;\r\n        img {\r\n          height: 0.46rem;\r\n          width: 0.46rem;\r\n          margin-right: 0.16rem;\r\n          // margin-bottom: 0.12rem;\r\n        }\r\n        .info {\r\n          margin-bottom: 0.12rem;\r\n          h3 {\r\n            display: inline-block;\r\n            width: 1.2rem;\r\n            //   单行文字超出用省略号\r\n            //   scss语法：引入某一个样式\r\n            margin-bottom: 0.06rem;\r\n            @include ellipsis;\r\n          }\r\n          .price {\r\n            display: flex;\r\n            height: 0.14rem;\r\n            &__now {\r\n              font-size: 0.14rem;\r\n              font-weight: 700;\r\n              line-height: 0.2rem;\r\n              color: #e93b3b;\r\n              &::before {\r\n                content: '¥';\r\n                font-size: 0.1rem;\r\n                font-weight: 400;\r\n                transform: scale(0.5, 0.5);\r\n                transform-origin: center top;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .fold {\r\n        width: 3.08rem;\r\n        height: 0.28rem;\r\n        background: #f5f5f5;\r\n        text-align: center;\r\n        line-height: 0.28rem;\r\n        font-size: 0.14rem;\r\n        color: #999999;\r\n        span {\r\n          font-size: 0.18rem;\r\n        }\r\n      }\r\n    }\r\n    .allprice {\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0.24rem;\r\n      // height: 0.18rem;\r\n      font-size: 0.14rem;\r\n      font-weight: 700;\r\n      color: #333;\r\n      &::before {\r\n        content: '¥';\r\n        font-size: 0.1rem;\r\n        font-weight: 400;\r\n      }\r\n      &__minus {\r\n        margin-right: 0.04rem;\r\n      }\r\n      &__add {\r\n        background-color: #0091ff;\r\n        color: $base-color;\r\n        border: none;\r\n        margin-left: 0.04rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n.footer {\r\n  display: flex;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 0.5rem;\r\n  width: 100%;\r\n  .allprice {\r\n    flex: 1;\r\n    background-color: #fff;\r\n    font-size: 0.14rem;\r\n    padding: 0 0 0 0.24rem;\r\n    line-height: 0.5rem;\r\n  }\r\n  .submit {\r\n    width: 0.98rem;\r\n    background-color: #4fb0f9;\r\n    border: none;\r\n    color: #fff;\r\n    font-size: 0.14rem;\r\n  }\r\n}\r\n.mask {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  .confirm,\r\n  .paysuccess {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 3rem;\r\n    height: 1.58rem;\r\n    background-color: #fff;\r\n    text-align: center;\r\n  }\r\n  .confirm {\r\n    h3 {\r\n      padding-top: 0.24rem;\r\n      font-size: 0.18rem;\r\n    }\r\n    p {\r\n      padding-top: 0.1rem;\r\n      font-size: 0.14rem;\r\n      color: #666666;\r\n    }\r\n    .chose {\r\n      padding-top: 0.24rem;\r\n      button {\r\n        margin: 0;\r\n        padding: 0;\r\n        outline: none; //消除默认点击蓝色边框效果\r\n        font-size: 0.14rem;\r\n        border: 0.01rem solid #4fb0f9;\r\n        background: #4fb0f9;\r\n        width: 0.8rem;\r\n        height: 0.32rem;\r\n        border-radius: 0.32rem;\r\n        color: #ffffff;\r\n      }\r\n      .cancle {\r\n        margin-right: 0.24rem;\r\n        background: #fff;\r\n        color: #4fb0f9;\r\n      }\r\n    }\r\n  }\r\n  .paysuccess {\r\n    position: relative;\r\n    .exit {\r\n      position: absolute;\r\n      top: 0.12rem;\r\n      right: 0.12rem;\r\n      font-size: 0.18rem;\r\n      color: #666666;\r\n    }\r\n    .yes {\r\n      padding-top: 0.42rem;\r\n      font-size: 0.4rem;\r\n      color: #000000;\r\n      font-weight: 700;\r\n    }\r\n    .prompt {\r\n      padding-top: 0.12rem;\r\n      font-size: 0.18rem;\r\n      font-weight: 700;\r\n      color: #333333;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./OrderConfirmation.vue?vue&type=template&id=71024647&scoped=true\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=71024647&lang=scss&scoped=true\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71024647\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"mask\" v-if=\"showCartList && calculate.totalNum > 0\" @click=\"handleShowCartlist\"></div>\r\n  <div class=\"product\" v-if=\"showCartList && calculate.totalNum > 0\">\r\n    <div class=\"product__state\">\r\n      <div class=\"product__state__selectall\">\r\n        <span\r\n          class=\"icon iconfont\"\r\n          v-html=\"calculate.allSelectd ? '&#xe810;' : '&#xe61a;'\"\r\n          @click=\"\r\n            () => {\r\n              changeSelectAllState(shopId)\r\n            }\r\n          \"\r\n        ></span>\r\n        全选\r\n      </div>\r\n      <div\r\n        class=\"product__state__cleanall\"\r\n        @click=\"\r\n          () => {\r\n            clearAll(shopId)\r\n          }\r\n        \"\r\n      >\r\n        清空购物车\r\n      </div>\r\n    </div>\r\n    <ul>\r\n      <li v-for=\"item in product\" :key=\"item._id\" v-show=\"item.count > 0\">\r\n        <div class=\"iconfont check\" v-html=\"item.check ? '&#xe810;' : '&#xe61a;'\" @click=\"() => changeProductCheck(shopId, item._id)\"></div>\r\n        <img :src=\"item.imgUrl\" alt=\"\" />\r\n        <div class=\"info\">\r\n          <h3>{{ item.name }}</h3>\r\n          <div class=\"price\">\r\n            <div class=\"price__now\">{{ item.price }}</div>\r\n            <div class=\"price__origin\">{{ item.oldPrice }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"number\">\r\n          <span\r\n            class=\"number__minus\"\r\n            @click=\"\r\n              () => {\r\n                changeCount(shopId, item._id, item, -1)\r\n              }\r\n            \"\r\n            >-</span\r\n          >\r\n          <!-- 一开始没有的话，赋0！！ -->\r\n          {{ item.count || 0 }}\r\n          <span\r\n            class=\"number__add\"\r\n            @click=\"\r\n              () => {\r\n                changeCount(shopId, item._id, item, 1)\r\n              }\r\n            \"\r\n            >+</span\r\n          >\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class=\"bottom\">\r\n    <div class=\"bottom__basket\" @click=\"handleShowCartlist\">\r\n      <img src=\"http://www.dell-lee.com/imgs/vue3/basket.png\" alt=\"\" />\r\n      <div class=\"tag\">{{ calculate.totalNum }}</div>\r\n    </div>\r\n    <div class=\"bottom__allprice\">\r\n      总计：<span class=\"price\">&yen;{{ calculate.totalPrice }}</span>\r\n    </div>\r\n    <!-- 这里应该添加一个判断，如果购物车为0的话，弹出提示框，如果不为0才跳转 -->\r\n    <div class=\"bottom__check\" @click=\"checkClick\">去结算</div>\r\n  </div>\r\n  <Toast v-if=\"show\" :toastMessa=\"toastMessa\" />\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { useCommonCartEffect } from '../../effects/commonCartEffect'\r\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\r\n\r\nconst useCheckEffect = (product, shopId) => {\r\n  const router = useRouter()\r\n  const { show, toastMessa, showToast } = useToastEffect()\r\n  // console.log(JSON.stringify(product.value))\r\n  // console.log(product)o')\r\n  // 判断它是否为空对象！\r\n  const checkClick = () => {\r\n    JSON.stringify(product.value) === '{}' ? showToast('请至少添加一种添加商品!') : router.push({ path: `/orderConfirmation/${shopId}` })\r\n  }\r\n  return { checkClick, show, toastMessa }\r\n}\r\n// 底部商品数量总和与价格总和//底部勾选的逻辑\r\nexport const useCartEffect = (shopId, showCartList) => {\r\n  const store = useStore()\r\n  const cartList = store.state.cartList\r\n  const calculate = computed(() => {\r\n    const productList = cartList[shopId]\r\n    let totalNum = 0\r\n    let totalPrice = 0\r\n    let allSelectd = true\r\n    if (productList) {\r\n      for (const i in productList) {\r\n        const product = productList[i]\r\n        totalNum += product.count\r\n        if (product.check) {\r\n          totalPrice += product.count * product.price\r\n        }\r\n        // 循环里面的商品，只要有一个不满足check为真，那就会改变result的值\r\n        if (!product.check) {\r\n          allSelectd = false\r\n        }\r\n      }\r\n    }\r\n    if (totalNum <= 0) {\r\n      showCartList.value = false\r\n    }\r\n    totalPrice = totalPrice.toFixed(2)\r\n    return { totalNum, totalPrice, allSelectd }\r\n  })\r\n  // 直接用计算属性来写全部选中的状态\r\n  // 因为这里其实不涉及到需要改变stroe里存储的数据状态，只是选中按钮的状态而已！！\r\n  // 底部购物栏中的商品展示的逻辑\r\n  // 1、拿到store中的数据，然后利用里面的数据，将商品通过v-for的方式展示出来\r\n  const product = computed(() => {\r\n    const productList = cartList[shopId] || {}\r\n    return productList\r\n  })\r\n  const { changeCount } = useCommonCartEffect()\r\n  // 底部勾选的逻辑----绑定click事件，点击，发起修改store中的数据的请求，将这个页面对应的商品的check属性置反，一开始的属性应该为true---加入购物车的默认状态应该是选中\r\n  const changeProductCheck = (shopId, productId) => {\r\n    store.commit('changeProductCheck', { shopId, productId })\r\n  }\r\n  const changeSelectAllState = shopId => {\r\n    store.commit('changeSelectAllState', { shopId })\r\n  }\r\n  const clearAll = shopId => {\r\n    store.commit('clearAll', { shopId })\r\n  }\r\n  return { calculate, product, changeCount, changeProductCheck, changeSelectAllState, clearAll }\r\n}\r\n// 展示隐藏购物车逻辑\r\nconst toggleCartEffect = () => {\r\n  // 定义一个响应式数据来决定是否显示购物车---直接再这里写\r\n  const showCartList = ref(false)\r\n  const handleShowCartlist = () => {\r\n    showCartList.value = !showCartList.value\r\n  }\r\n  // if (totalNum === 0) {\r\n  //   showCartList.value = ref(false)\r\n  // }\r\n  return { showCartList, handleShowCartlist }\r\n}\r\n\r\nexport default {\r\n  name: 'ShopCart',\r\n  components: { Toast },\r\n  setup() {\r\n    // 为什么要用computed？\r\n    // 定义页面上的商品数量总和和价钱总和的函数\r\n    const route = useRoute()\r\n    const shopId = route.params.id\r\n    const { showCartList, handleShowCartlist } = toggleCartEffect()\r\n    const { calculate, product, changeCount, changeProductCheck, changeSelectAllState, clearAll } = useCartEffect(shopId, showCartList)\r\n    const { checkClick, show, toastMessa } = useCheckEffect(product, shopId)\r\n    return { calculate, product, shopId, showCartList, changeCount, changeProductCheck, changeSelectAllState, clearAll, handleShowCartlist, checkClick, show, toastMessa }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import '../../style/virable.scss';\r\n@import '../../style/mixins.scss';\r\n.mask {\r\n  // 为什么一定要这样写才生效？？！只设置两个数值，然后写height100%和wight100%为啥不可以\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n.product {\r\n  // 在子元素上写flex=1，就表示占父元素剩下的空间的几份\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 0.5rem;\r\n  background: #fff;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column;\r\n  &__state {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    height: 0.52rem;\r\n    line-height: 0.52rem;\r\n    font-size: 0.14rem;\r\n    margin: 0 0.18rem 0 0.18rem;\r\n    // z-index: 100;\r\n    background-color: #fff;\r\n    &__selectall {\r\n      span {\r\n        display: inline-block;\r\n        color: #0091ff;\r\n        margin-right: 0.084rem;\r\n        font-size: 0.18rem;\r\n      }\r\n    }\r\n  }\r\n  ul {\r\n    padding-top: 0.16rem;\r\n    border-top: solid 0.01rem #f1f1f1;\r\n    border-bottom: solid 0.01rem #f1f1f1;\r\n    // z-index: 100;\r\n  }\r\n  li {\r\n    height: 0.46rem;\r\n    position: relative;\r\n    display: flex;\r\n    margin: 0 0.18rem 0.16rem 0;\r\n    .check {\r\n      line-height: 0.54rem;\r\n      text-align: center;\r\n      width: 0.54rem;\r\n      height: 100%;\r\n      font-size: 0.18rem;\r\n      color: #0091ff;\r\n    }\r\n    img {\r\n      height: 0.46rem;\r\n      width: 0.46rem;\r\n      margin-right: 0.16rem;\r\n      // margin-bottom: 0.12rem;\r\n    }\r\n    .info {\r\n      margin-bottom: 0.12rem;\r\n      h3 {\r\n        display: inline-block;\r\n        width: 1.2rem;\r\n        //   单行文字超出用省略号\r\n        //   scss语法：引入某一个样式\r\n        margin-bottom: 0.06rem;\r\n        @include ellipsis;\r\n      }\r\n      .price {\r\n        display: flex;\r\n        height: 0.14rem;\r\n        &__now {\r\n          font-size: 0.14 rem;\r\n          font-weight: 700;\r\n\r\n          line-height: 0.2rem;\r\n          color: red;\r\n          &::before {\r\n            content: '￥';\r\n            font-size: 0.12rem;\r\n            font-weight: 400;\r\n          }\r\n        }\r\n        &__origin {\r\n          margin-left: 0.06rem;\r\n          line-height: 0.2rem;\r\n          font-size: 0.12rem;\r\n          color: #999;\r\n          text-decoration: line-through;\r\n          &::before {\r\n            content: '￥';\r\n            font-size: 0.12rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .number {\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0.12rem;\r\n      height: 0.18rem;\r\n      font-size: 0.12rem;\r\n      color: #333;\r\n      &__minus,\r\n      &__add {\r\n        display: inline-block;\r\n        width: 0.18rem;\r\n        height: 0.18rem;\r\n        border: solid 0.01rem #666;\r\n        border-radius: 50%;\r\n        font-size: 0.18rem;\r\n        line-height: 0.14rem;\r\n        text-align: center;\r\n      }\r\n      &__minus {\r\n        margin-right: 0.04rem;\r\n      }\r\n      &__add {\r\n        background-color: #0091ff;\r\n        color: $base-color;\r\n        border: none;\r\n        margin-left: 0.04rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n.bottom {\r\n  width: 100%;\r\n  height: 0.5rem;\r\n  background-color: white;\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  border: 0.01rem solid #fff;\r\n  display: flex;\r\n  &__basket {\r\n    position: relative;\r\n    line-height: 0.5rem;\r\n    width: 0.76rem;\r\n    text-align: center;\r\n    img {\r\n      width: 0.29rem;\r\n    }\r\n    .tag {\r\n      // 只能一起放大缩小！\r\n      position: absolute;\r\n      top: 0.04rem;\r\n      left: 0.48rem;\r\n      padding: 0 0.06rem;\r\n      // width: 0.2rem;\r\n      height: 0.2rem;\r\n      line-height: 0.2rem;\r\n      text-align: center;\r\n      color: #fff;\r\n      border-radius: 0.1rem;\r\n      background-color: red;\r\n      transform: scale(0.5);\r\n      transform-origin: left center;\r\n    }\r\n  }\r\n  &__allprice {\r\n    flex: 1;\r\n    line-height: 0.5rem;\r\n    .price {\r\n      // 这个vertical-align不是很懂\r\n      vertical-align: middle;\r\n      font-size: 0.18rem;\r\n      color: red;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n  &__check {\r\n    height: 100%;\r\n    width: 0.98rem;\r\n    background-color: #4fb0f9;\r\n    text-align: center;\r\n    line-height: 0.5rem;\r\n    font-size: 0.14rem;\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ShopCart.vue?vue&type=template&id=e3faf984&scoped=true\"\nimport script from \"./ShopCart.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCart.vue?vue&type=script&lang=js\"\n\nimport \"./ShopCart.vue?vue&type=style&index=0&id=e3faf984&scoped=true&lang=scss\"\n\nimport exportComponent from \"G:\\\\前端学习\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e3faf984\"]])\n\nexport default __exports__"],"names":["useCommonCartEffect","store","useStore","changeCount","shopId","productId","productInfo","num","commit","cartList","toRefs","state","class","_createElementBlock","_hoisted_1","_toDisplayString","$props","toastMessa","useToastEffect","toastData","reactive","show","showToast","meesa","setTimeout","name","props","__exports__","render","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","$setup","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","products","item","key","_id","src","imgUrl","alt","_hoisted_10","_hoisted_11","_hoisted_12","price","count","_hoisted_13","toFixed","showProducts","includes","showFold","onClick","_cache","args","productHiddenChange","Object","keys","length","innerHTML","foldIcon","_hoisted_15","_hoisted_16","totalPrice","submitClick","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","cancleClick","payClick","paySuccess","_hoisted_22","exitClick","router","_hoisted_23","_hoisted_24","mask","_createBlock","_component_Toast","submitOrder","orderInfo","useButtonEffect","clearAll","ref","value","async","productsList","orderProducts","i","product","push","id","orderSales","img","sales","result","post","addressId","shopName","isCanceled","errno","err","address","hiddenProductsEffect","productKeys","slice","components","Toast","setup","useRouter","route","useRoute","params","calculate","useCartEffect","showCartList","totalNum","handleShowCartlist","allSelectd","changeSelectAllState","check","changeProductCheck","_hoisted_9","oldPrice","_hoisted_14","checkClick","useCheckEffect","JSON","stringify","path","computed","productList","toggleCartEffect"],"sourceRoot":""}