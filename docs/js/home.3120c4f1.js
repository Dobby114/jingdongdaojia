"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[177],{1618:function(e){(function(n,o){e.exports=o()})(0,(function(){function e(e){var t=[];return e.AMapUI&&t.push(n(e.AMapUI)),e.Loca&&t.push(o(e.Loca)),Promise.all(t)}function n(e){return new Promise((function(n,o){var l=[];if(e.plugins)for(var r=0;r<e.plugins.length;r+=1)-1==a.AMapUI.plugins.indexOf(e.plugins[r])&&l.push(e.plugins[r]);if(i.AMapUI===t.failed)o("前次请求 AMapUI 失败");else if(i.AMapUI===t.notload){i.AMapUI=t.loading,a.AMapUI.version=e.version||a.AMapUI.version,r=a.AMapUI.version;var c=document.body||document.head,p=document.createElement("script");p.type="text/javascript",p.src="https://webapi.amap.com/ui/"+r+"/main.js",p.onerror=function(e){i.AMapUI=t.failed,o("请求 AMapUI 失败")},p.onload=function(){if(i.AMapUI=t.loaded,l.length)window.AMapUI.loadUI(l,(function(){for(var e=0,o=l.length;e<o;e++){var t=l[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}for(n();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()}));else for(n();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()},c.appendChild(p)}else i.AMapUI===t.loaded?e.version&&e.version!==a.AMapUI.version?o("不允许多个版本 AMapUI 混用"):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,o=l.length;e<o;e++){var t=l[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n():e.version&&e.version!==a.AMapUI.version?o("不允许多个版本 AMapUI 混用"):s.AMapUI.push((function(e){e?o(e):l.length?window.AMapUI.loadUI(l,(function(){for(var e=0,o=l.length;e<o;e++){var t=l[e].split("/").slice(-1)[0];window.AMapUI[t]=arguments[e]}n()})):n()}))}))}function o(e){return new Promise((function(n,o){if(i.Loca===t.failed)o("前次请求 Loca 失败");else if(i.Loca===t.notload){i.Loca=t.loading,a.Loca.version=e.version||a.Loca.version;var l=a.Loca.version,r=a.AMap.version.startsWith("2"),c=l.startsWith("2");if(r&&!c||!r&&c)o("JSAPI 与 Loca 版本不对应！！");else{r=a.key,c=document.body||document.head;var p=document.createElement("script");p.type="text/javascript",p.src="https://webapi.amap.com/loca?v="+l+"&key="+r,p.onerror=function(e){i.Loca=t.failed,o("请求 AMapUI 失败")},p.onload=function(){for(i.Loca=t.loaded,n();s.Loca.length;)s.Loca.splice(0,1)[0]()},c.appendChild(p)}}else i.Loca===t.loaded?e.version&&e.version!==a.Loca.version?o("不允许多个版本 Loca 混用"):n():e.version&&e.version!==a.Loca.version?o("不允许多个版本 Loca 混用"):s.Loca.push((function(e){e?o(e):o()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(t||(t={}));var a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},s={AMap:[],AMapUI:[],Loca:[]},l=[],r=function(e){"function"==typeof e&&(i.AMap===t.loaded?e(window.AMap):l.push(e))};return{load:function(n){return new Promise((function(o,s){if(i.AMap==t.failed)s("");else if(i.AMap==t.notload){var c=n.key,p=n.version,d=n.plugins;c?(window.AMap&&"lbs.amap.com"!==location.host&&s("禁止多种API加载方式混用"),a.key=c,a.AMap.version=p||a.AMap.version,a.AMap.plugins=d||a.AMap.plugins,i.AMap=t.loading,p=document.body||document.head,window.___onAPILoaded=function(a){if(delete window.___onAPILoaded,a)i.AMap=t.failed,s(a);else for(i.AMap=t.loaded,e(n).then((function(){o(window.AMap)}))["catch"](s);l.length;)l.splice(0,1)[0]()},d=document.createElement("script"),d.type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+c+"&plugin="+a.AMap.plugins.join(","),d.onerror=function(e){i.AMap=t.failed,s(e)},p.appendChild(d)):s("请填写key")}else if(i.AMap==t.loaded)if(n.key&&n.key!==a.key)s("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)s("不允许多个版本 JSAPI 混用");else{if(c=[],n.plugins)for(p=0;p<n.plugins.length;p+=1)-1==a.AMap.plugins.indexOf(n.plugins[p])&&c.push(n.plugins[p]);c.length?window.AMap.plugin(c,(function(){e(n).then((function(){o(window.AMap)}))["catch"](s)})):e(n).then((function(){o(window.AMap)}))["catch"](s)}else if(n.key&&n.key!==a.key)s("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)s("不允许多个版本 JSAPI 混用");else{var u=[];if(n.plugins)for(p=0;p<n.plugins.length;p+=1)-1==a.AMap.plugins.indexOf(n.plugins[p])&&u.push(n.plugins[p]);r((function(){u.length?window.AMap.plugin(u,(function(){e(n).then((function(){o(window.AMap)}))["catch"](s)})):e(n).then((function(){o(window.AMap)}))["catch"](s)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},s={AMap:[],AMapUI:[],Loca:[]}}}}))},1053:function(e,n,o){o.d(n,{Z:function(){return f}});var t=o(6252),a=o(3577);const i={class:"footer"},s=["innerHTML"],l={class:"footer__title"};function r(e,n,o,r,c,p){const d=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",i,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.items,((e,n)=>((0,t.wg)(),(0,t.j4)(d,{to:e.to,key:n,class:(0,a.C_)({footer__item:!0,"footer__item--active":e.to["name"]===r.route.name})},{default:(0,t.w5)((()=>[(0,t._)("div",{innerHTML:e.iconfont,class:"iconfont"},null,8,s),(0,t._)("div",l,(0,a.zw)(e.title),1)])),_:2},1032,["to","class"])))),128))])}var c=o(2201),p={name:"Foot",setup(){const e=[{iconfont:"&#xe6b8;",title:"首页",to:{name:"Home"}},{iconfont:"&#xe789;",title:"购物车",to:{name:"CartList"}},{iconfont:"&#xe64b;",title:"订单",to:{name:"OrderList"}},{iconfont:"&#xe7bd;",title:"我的",to:{name:"Personal"}}],n=(0,c.yj)();return{items:e,route:n}}},d=o(3744);const u=(0,d.Z)(p,[["render",r],["__scopeId","data-v-e02dee1a"]]);var f=u},4325:function(e,n,o){o.d(n,{Z:function(){return g}});var t=o(6252),a=o(3577);const i={class:"shop"},s={class:"container"},l=["src"],r={class:"title"},c={class:"tag"},p={class:"highlight"};function d(e,n,o,d,u,f){const v=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("li",i,[(0,t.Wm)(v,{to:`/shop/${o.item.name?o.item.name:o.item._id}`},{default:(0,t.w5)((()=>[(0,t._)("div",s,[(0,t._)("img",{src:o.item.imgUrl,alt:""},null,8,l)]),(0,t._)("div",{class:(0,a.C_)({shop__info:!0,"shop__info--border":!o.hiddeBorder})},[(0,t._)("h4",r,(0,a.zw)(o.item.name?o.item.name:o.item._id),1),(0,t._)("div",c,[(0,t._)("span",null,"月售:"+(0,a.zw)(o.item.sales),1),(0,t._)("span",null,"起送:"+(0,a.zw)(o.item.expressLimit),1),(0,t._)("span",null,"基础运费:"+(0,a.zw)(o.item.expressPrice),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.item.tag,((e,n)=>((0,t.wg)(),(0,t.iD)("span",{key:n},(0,a.zw)(e),1)))),128))]),(0,t._)("div",p,(0,a.zw)(o.item.slogan),1)],2)])),_:1},8,["to"])])}var u={name:"ShopInfo",props:["item","hiddeBorder"]},f=o(3744);const v=(0,f.Z)(u,[["render",d],["__scopeId","data-v-7d836894"]]);var g=v},2668:function(e,n,o){o.r(n),o.d(n,{default:function(){return $}});var t=o(6252);const a={class:"container"},i={class:"wrapper"};function s(e,n,o,s,l,r){const c=(0,t.up)("Top"),p=(0,t.up)("Nearby"),d=(0,t.up)("Foot");return(0,t.wg)(),(0,t.iD)("div",a,[(0,t._)("div",i,[(0,t.Wm)(c),(0,t.Wm)(p)]),(0,t.Wm)(d)])}var l=o(3577);const r=e=>((0,t.dD)("data-v-890f5d6a"),e=e(),(0,t.Cn)(),e),c={class:"header"},p=r((()=>(0,t._)("div",{class:"header__top"},[(0,t._)("span",{class:"iconfont header__position"},""),(0,t._)("span",{class:"header__item"},"上海大学延长校区行健楼10层技园2号楼10层"),(0,t._)("span",{class:"iconfont header__notice"},"")],-1))),d={class:"header__search"},u=r((()=>(0,t._)("a",{href:"#",class:"iconfont"},"",-1))),f=r((()=>(0,t._)("div",{class:"banner"},[(0,t._)("img",{src:"https://www.dell-lee.com/imgs/vue3/banner.jpg",alt:"后面做成轮播图",class:"banner__img1"})],-1))),v={class:"nav"},g={href:"#"},w={class:"containor"},m=["src"],h={class:"desc"},A=r((()=>(0,t._)("div",{class:"gap"},null,-1)));function _(e,n,o,a,i,s){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",c,[p,(0,t._)("div",d,[u,(0,t.Uk)(),(0,t._)("input",{type:"text",style:{width:"1.4rem"},placeholder:"山姆会员商店优惠商品",onClick:n[0]||(n[0]=()=>a.handleInputClick(a.router))})])]),f,(0,t._)("div",v,[(0,t._)("ul",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.navInfos,((e,n)=>((0,t.wg)(),(0,t.iD)("li",{key:n},[(0,t._)("a",g,[(0,t._)("div",w,[(0,t._)("img",{src:e.imgUrl,alt:""},null,8,m)]),(0,t._)("div",h,(0,l.zw)(e.title),1)])])))),128))])]),A],64)}o(7658);var M=o(1618),I=o.n(M),U=o(2262),y=o(6154);const L=e=>new Promise(((e,n)=>{I().load({key:"ef209f13220abc1e8e1e100d07e5e251",version:"2.0",plugins:["AMap.Geolocation","AMap.Geocoder"]}).then((n=>{e(n)}),(e=>{n(e)}))}));function k(e,n){const o=(0,U.iH)(),t="d8a56b331449cdb2d8eb0021339c853e",a="126.7,37.45";return y.Z.get(`https://restapi.amap.com/v3/geocode/regeo?key=${t}&location=${a}&radius=1000&extensions=all&batch=false`).then((e=>{console.log("res: ",e.data),o.value=e.data})),console.log(o),n}function b(e){return console.log(e),e}const P=e=>new Promise(((n,o)=>{e.plugin("AMap.Geolocation",(function(){const t=new e.Geolocation({enableHighAccuracy:!0,timeout:1e4,offset:[10,20],zoomToAccuracy:!0,position:"RB",extensions:"base",convert:!1});t.getCurrentPosition(((t,a)=>{if("complete"===t){console.log("result",a);const o=k(e,a);n(o)}else b(a),o(a)}))}))})),x=async()=>{const e=async()=>{const e=(0,U.XI)(null),n=await L(e),o=await P(n);return o},n=await e();return n};var C=o(2201),D={name:"Top",setup(){const e=[{imgUrl:"https://www.dell-lee.com/imgs/vue3/超市.png",title:"超市便利"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/菜市场.png",title:"菜市场"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/水果店.png",title:"水果店"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/鲜花.png",title:"鲜花绿植"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/医药健康.png",title:"医药健康"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/家居.png",title:"家居时尚"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/蛋糕.png",title:"烘焙蛋糕"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/签到.png",title:"签到"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/大牌免运.png",title:"大牌免运"},{imgUrl:"https://www.dell-lee.com/imgs/vue3/红包.png",title:"红包"}],n=(0,C.tv)(),o=e=>{e.push({name:"Search"})},t=(0,U.iH)(),a=async()=>{try{const e=await x();t.value=e}catch(e){}};return a(),{navInfos:e,router:n,handleInputClick:o}}},H=o(3744);const j=(0,H.Z)(D,[["render",_],["__scopeId","data-v-890f5d6a"]]);var Z=j;const z=e=>((0,t.dD)("data-v-7af9dd3c"),e=e(),(0,t.Cn)(),e),S={class:"nearby"},T=z((()=>(0,t._)("h3",null,"附近店铺",-1)));function W(e,n,o,a,i,s){const l=(0,t.up)("ShopInfo");return(0,t.wg)(),(0,t.iD)("div",S,[T,(0,t._)("ul",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.shopInfors,(e=>((0,t.wg)(),(0,t.j4)(l,{key:e._id,item:e},null,8,["item"])))),128))])])}var Y=o(4471),B=o(4325);const E=()=>{const e=(0,U.iH)([]),n=async()=>{const n=await(0,Y.t5)("/api/shop/nearby-list");0===n?.errno&&n?.data?.length&&(e.value=n.data)};return n(),{shopInfors:e}};var G={name:"Nearby",components:{ShopInfo:B.Z},setup(){const{shopInfors:e}=E();return{shopInfors:e}}};const J=(0,H.Z)(G,[["render",W],["__scopeId","data-v-7af9dd3c"]]);var K=J,O=o(1053),F={name:"Home",components:{Top:Z,Nearby:K,Foot:O.Z}};const N=(0,H.Z)(F,[["render",s],["__scopeId","data-v-ee4e2400"]]);var $=N}}]);
//# sourceMappingURL=home.3120c4f1.js.map